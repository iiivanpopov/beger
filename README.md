# 💻 Beger - Project For Managing Boards

## ⚙️ Tech Stack

### 📱 Front end

**Framework** (yeah that's not a framework): React v19 ⚛️

- [Tanstack Router](https://tanstack.com/router/latest) - file based routing
- [Ky](https://github.com/sindresorhus/ky) - http client, provides convenient api
- [Tanstack Query](https://tanstack.com/query/latest) - server state managing, used for comfortable data fetching
- [React Hook Fom](https://react-hook-form.com/) - form state managing
- [Valibot](https://valibot.dev/) - a light version of zod, used for form validations

### 🔒 Backend

**Framework**: Hono v4 🔥

- [Drizzle](https://orm.drizzle.team/) - good ts-first orm. i like it
- [Valibot](https://valibot.dev/) - used for validating requests
- [Bun](https://bun.com/) - runtime, has built-in postgres and redis drivers, fast as fuck

### 🔧 Utils

- [ESLint](https://eslint.org/) - linter, currently is irreplaceable. waiting room for biome/oxlint is here
- [Stylelint](https://stylelint.io/) - linter
- [@antfu/eslint-config](https://github.com/antfu/eslint-config) - probably the best open source config. using stylistic
- [@yelaiii/stylelint](https://github.com/iiivanpopov/stylelint-config) - my stylelint config. mostly generated by ai...

## ⬇️ Installation (docker-compose)

### 1. Clone

```bash
git clone https://github.com/iiivanpopov/beger.git
```

### 2. Configure

```dotenv
# /beger/.env

PORT=5333                                           # DEFAULT
JWT_ACCESS_SECRET=c9e5fd5df58770fea7063ebad0c78d6c  # DEFAULT
JWT_REFRESH_SECRET=2d03a2683014ad790487149e73d97bc2 # DEFAULT
ADMIN_PASSWORD=
DB_USER=postgres                                    # DEFAULT
DB_PASSWORD=postgres                                # DEFAULT
SHEET_URL=
```

Make sure to place the `SHEET_URL` inside of the **"double quotes"**

#### 2.1. Configure **PORT**

If you want to use different **backend** port,
you also need to configure `/beger/beger-frontend/nginx.conf`

```dotenv
# /beger/.env

PORT=4111
```

```conf
# /beger/beger-frontend/nginx.conf

location /api/ {
  proxy_pass http://backend:4111/api/;
  ...
}
```

## ⚡ Running

### 1. Build the project

in the `/beger/` directory

```bash
docker-compose build
```

### 2. Run

```bash
docker-compose up
```

## ⏬ Updating

### 1. Pull changes

```bash
git pull
```

### 2. Update containers

```bash
docker-compose build
```

## ⁉️ Don't have the sheet url?

Here is step by step guide how to get it

### Be sure that you have set the exact headers

![Modal Menu](/assets/proper-format.png)

1. Open sheet in the **Google Sheets**
2. Goto File -> Share -> Publish to web
3. In the modal menu select the **CSV** (Comma-Separated Values) data type instead of the default **Web Page**

![Modal Menu](/assets/get-sheet-url.png)

## ✅ TODO

- Implement `/records` route for admin
- Improve `Datepicker` ui kit component
- **Tracking** of deleted records
